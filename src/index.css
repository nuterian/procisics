@import "tailwindcss";

/* Core tokens (CSS variables) */
:root {
  /* Core B/W Palette */
  --background: 0 0% 0%;
  /* Pure black #000 */
  --foreground: 0 0% 100%;
  /* Pure white #fff */

  /* Panel System */
  --card: 0 0% 4%;
  /* Panel background #0a0a0a */
  --card-foreground: 0 0% 100%;
  /* Panel text */
  --card-border: 0 0% 13%;
  /* Panel borders #222 */
  --card-border-hover: 0 0% 27%;
  /* Hover borders #444 */

  /* Secondary/Muted */
  --muted: 0 0% 67%;
  /* Muted gray #aaa */
  --muted-foreground: 0 0% 67%;

  /* Interactive Elements */
  --button-bg: 0 0% 6%;
  /* Button background #0f0f0f */
  --button-bg-hover: 0 0% 15%;
  /* Button hover #242424 */
  --button-border: 0 0% 13%;
  /* Button border #222 */

  /* System Tokens */
  --primary: 0 0% 100%;
  --primary-foreground: 0 0% 0%;
  --secondary: 0 0% 4%;
  --secondary-foreground: 0 0% 100%;
  --accent: 0 0% 13%;
  --accent-foreground: 0 0% 100%;

  /* Layout */
  --radius: 0.75rem;
  /* 12px radius */
  --radius-sm: 0.5rem;
  /* 8px for buttons */
  --spacing-grid: 1.25rem;
  /* 20px grid gap */
  --spacing-panel: 2.5rem;
  /* 18px panel padding */
  --hud-height: 48px;
  /* shared overlay height */

  /* Typography Scale */
  --text-xs: 0.875rem;
  /* 14px */
  --text-base: 1rem;
  /* 16px */
  --text-lg: 1.125rem;
  /* 18px */
  --text-xl: 1.5rem;
  /* 24px */
  --text-2xl: 1.75rem;
  /* 28px */

  /* Transitions */
  --transition-micro: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Base styles */
* {
  border-color: hsl(var(--card-border));
}

html,
body,
#root {
  height: 100%;
}

body {
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0;
}

/* Components */

/* Portfolio Components */
.portfolio-container {
  @apply min-h-screen p-6 max-w-6xl mx-auto;
}

.portfolio-intro {
  @apply mb-12 text-left;
}

.portfolio-title {
  @apply text-4xl font-bold mb-3 tracking-tight;
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  font-size: 2.5rem;
  letter-spacing: -0.025em;
  font-weight: 700;
}

.portfolio-subtitle {
  color: hsl(var(--muted));
  font-size: var(--text-lg);
}

.demos-grid {
  @apply grid gap-5;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: var(--spacing-grid);
}

.demo-card {
  @apply relative rounded-lg border transition-all duration-150 hover:-translate-y-0.5 focus-within:-translate-y-0.5 overflow-hidden;
  background: hsl(var(--card));
  border-color: hsl(var(--card-border));
  border-radius: var(--radius);
  transition: var(--transition-micro);
}

.demo-card-thumbnail {
  @apply w-full h-32 flex items-center justify-center;
  background: hsl(var(--background));
}

.demo-card-content {
  padding: var(--spacing-panel);
}

.demo-card:hover,
.demo-card:focus-within {
  border-color: hsl(var(--card-border-hover));
}

.demo-card-title {
  @apply font-semibold mb-2 decoration-1 underline-offset-4;
  font-size: var(--text-lg);
  color: hsl(var(--card-foreground));
}

.demo-card-description {
  @apply text-sm;
  color: hsl(var(--muted));
  font-size: var(--text-base);
}

/* Demo Page Components */
.demo-viewport {
  @apply fixed inset-0 overflow-hidden;
  background: hsl(var(--background));
}

.demo-canvas {
  @apply block w-full h-full;
  background: hsl(var(--background));
}

.demo-hud {
  @apply fixed top-4 left-4 flex items-center gap-3 p-3 pl-6 pr-6 rounded-lg border z-10;
  background: hsla(var(--card) / 0.72);
  backdrop-filter: blur(8px);
  border-color: hsl(var(--card-border));
  border-radius: var(--radius);
  min-height: var(--hud-height);
}

.demo-title {
  @apply font-semibold mr-4;
  font-size: var(--text-lg);
  color: hsl(var(--card-foreground));
}

.demo-button {
  @apply px-3 py-1.5 rounded border text-sm font-medium transition-colors focus-visible:outline-2 focus-visible:outline-offset-2 inline-flex items-center justify-center leading-none;
  background: hsl(var(--button-bg));
  border-color: hsl(var(--button-border));
  color: hsl(var(--foreground));
  font-size: var(--text-xs);
  border-radius: var(--radius-sm);
  transition: var(--transition-micro);
  min-width: 2.25rem;
  min-height: 2.25rem;
  cursor: pointer;
}

.demo-button:hover {
  background: hsl(var(--button-bg-hover));
}

.demo-button:focus-visible {
  outline-color: hsl(var(--foreground));
}

.demo-button-tooltip {
  @apply text-[14px];
}

/* HUD button interactions (shadcn Button) */
.demo-hud [data-slot="button"],
.demo-hud button,
.demo-hud a {
  cursor: pointer;
}

.demo-hud [data-slot="button"] svg,
.demo-hud button svg,
.demo-hud a svg {
  transition: var(--transition-micro);
}

.demo-hud [data-slot="button"]:hover svg,
.demo-hud button:hover svg,
.demo-hud a:hover svg {
  color: hsl(var(--muted));
}

.demo-fps {
  @apply text-xs ml-auto;
  color: hsl(var(--muted));
  font-size: var(--text-xs);
}

/* Debug overlay (top-right container) */
.debug-overlay {
  @apply fixed top-4 right-4 z-20 rounded-lg border p-3 pl-6 pr-6 flex flex-col gap-2;
  background: hsla(var(--card) / 0.72);
  backdrop-filter: blur(8px);
  border-color: hsl(var(--card-border));
  border-radius: var(--radius);
  min-height: var(--hud-height);
  display: flex;
  align-items: center;
}

.debug-item {
  @apply flex items-center gap-2;
  min-height: var(--hud-height);
}

.debug-icon {
  width: 20px;
  height: 20px;
  color: hsl(var(--muted));
}

.debug-value {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-variant-numeric: tabular-nums;
  font-size: 1rem;
  color: hsl(var(--foreground));
}

.debug-sparkline {
  display: block;
}

.help-panel {
  @apply fixed p-6 pl-8 pr-8 rounded-lg border z-20;
  background: hsla(var(--card) / 0.72);
  backdrop-filter: blur(8px);
  border-color: hsl(var(--card-border));
  border-radius: var(--radius);
  box-sizing: border-box;
  width: min(98vw, 980px);
  max-width: 980px;
  left: 50%;
  transform: translateX(-50%);
  top: 120px;
  overflow: hidden;
}

.help-panel-inner {
  width: 100%;
  overflow-x: auto; /* safe horizontal scroll if needed */
}

.help-title {
  @apply mb-3 flex items-center gap-2;
  font-size: var(--text-base);
  color: hsl(var(--muted));
  letter-spacing: 0.02em;
}

.help-title-icon {
  width: 18px;
  height: 18px;
  color: hsl(var(--muted));
}

/* Help panel: horizontal categories */
.help-categories {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--spacing-panel);
}

.help-category {
  display: flex;
  flex-direction: column;
  min-width: 270px;
}

.help-category-title {
  font-size: 0.75rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: hsl(var(--muted));
  margin-bottom: 0.5rem;
}

.help-category-grid {
  display: grid;
  grid-template-columns: max-content 1fr;
  column-gap: 1rem;
  row-gap: 0.5rem;
}

.help-row {
  display: contents;
}

.help-keys {
  @apply flex items-center gap-1;
  flex-shrink: 0;
}

.help-text {
  color: hsl(var(--card-foreground));
  font-size: var(--text-base);
  text-align: right;
}

.help-text { white-space: nowrap; }

/* Multi-line key group for dense combos (e.g., Shapes / Random) */
.help-keys-multi {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.25rem;
  max-width: 100px;
}

/* Keycaps */
.keycap {
  @apply inline-flex items-center justify-center select-none;
  min-width: 1.5rem;
  padding: 0.125rem 0.375rem;
  border: 1px solid hsl(var(--card-border));
  border-bottom-color: hsl(var(--card-border-hover));
  background: linear-gradient(180deg, hsl(var(--button-bg)) 0%, hsl(var(--secondary)) 100%);
  border-radius: 6px;
  box-shadow: inset 0 -1px 0 hsl(var(--card-border));
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  letter-spacing: 0.02em;
  color: hsl(var(--card-foreground));
}

.keycap-space {
  min-width: 3.5rem;
}

/* Focus and interaction states */
.demo-card-link {
  @apply block rounded-lg focus-visible:outline-2 focus-visible:outline-offset-2;
  border-radius: var(--radius);
}

.demo-card-link:focus-visible {
  outline-color: hsl(var(--foreground));
}

@keyframes bob {

  0%,
  100% {
    transform: translateY(0)
  }

  50% {
    transform: translateY(-12px)
  }
}

@keyframes tilt {

  0%,
  100% {
    transform: rotate(0deg)
  }

  50% {
    transform: rotate(18deg)
  }
}

.anim-bob-slow {
  animation: bob 2.2s ease-in-out infinite;
}

.anim-bob-fast {
  animation: bob 1.4s ease-in-out infinite;
}

.anim-tilt {
  animation: tilt 2s ease-in-out infinite;
  transform-origin: center;
  transform-box: fill-box;
  /* ensures SVG rotates around its own box center */
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .portfolio-container {
    @apply p-4;
  }

  .demos-grid {
    grid-template-columns: 1fr;
  }

  .demo-hud {
    @apply left-2 right-2 top-2 flex-wrap;
  }

  .help-panel {
    @apply left-2 right-2;
    left: 1rem;
    right: 1rem;
    transform: none;
    top: 90px;
    width: auto;
    max-width: none;
  }
  .help-categories {
    display: grid;
    grid-template-columns: 1fr;
  }
}

@media (max-width: 1024px) and (min-width: 641px) {
  .help-categories {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* HUD right area and indicators */
.demo-hud-right {
  display: flex;
  align-items: center;
  margin-left: 0.75rem;
  padding-left: 1.25rem;
  border-left: 1px solid hsl(var(--card-border));
}

.indicator {
  display: inline-flex;
  align-items: center;
  gap: 0.45rem;
  color: hsl(var(--muted));
  font-size: 12px;
  margin-right: 1rem;
}

.indicator:last-child {
  margin-right: 0;
}

.indicator-dot {
  width: 10px;
  height: 10px;
  border-radius: 9999px;
  background: hsl(var(--muted));
  box-shadow: 0 0 0 1px hsl(var(--card-border));
}

.indicator-dot.active {
  background: #22c55e;
  width: 10px;
  height: 10px;
}

.indicator-icon {
  width: 18px;
  height: 18px;
  color: hsl(var(--muted));
}